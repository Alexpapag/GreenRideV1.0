<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Reports - GreenRide</title>
    <link th:href="@{/css/app.css}" rel="stylesheet"/>
    <link th:href="@{/css/pages.css}" rel="stylesheet"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
<div class="dashboard-container">
    <!-- Sidebar -->
    <aside class="dashboard-sidebar">
        <div class="sidebar-header">
            <div class="sidebar-logo">
                <div class="logo-icon"><i class="fas fa-car"></i></div>
                <div class="logo-text">GreenRide</div>
            </div>
        </div>
        <nav class="sidebar-nav">
            <a th:href="@{/web/dashboard}" class="nav-item">
                <i class="fas fa-home"></i><span>Dashboard</span>
            </a>
            <a th:href="@{/web/rides}" class="nav-item">
                <i class="fas fa-search"></i><span>Find Rides</span>
            </a>
            <a th:href="@{/web/rides/new}" class="nav-item">
                <i class="fas fa-plus-circle"></i><span>Offer Ride</span>
            </a>
            <a th:href="@{/web/bookings/list}" class="nav-item">
                <i class="fas fa-ticket-alt"></i><span>My Bookings</span>
            </a>
            <a th:href="@{/web/reviews}" class="nav-item">
                <i class="fas fa-star"></i><span>My Reviews</span>
            </a>
            <a th:href="@{/web/my-rides}" class="nav-item" th:if="${session.userId != null}">
                <i class="fas fa-car-side"></i><span>My Rides</span>
            </a>
            <a th:href="@{/web/reports/my-reports}" class="nav-item active">
                <i class="fas fa-flag"></i><span>My Reports</span>
            </a>
            <div th:if="${session.role == 'ADMIN'}">
                <a th:href="@{/admin/dashboard}" class="nav-item" style="background: rgba(16, 185, 129, 0.1); color: #10b981;">
                    <i class="fas fa-shield-alt"></i>
                    <span>Admin Panel</span>
                </a>
            </div>
            <div class="logout-btn">
                <form th:action="@{/web/logout}" method="post" class="logout-form">
                    <button type="submit"><i class="fas fa-sign-out-alt"></i><span>Logout</span></button>
                </form>
            </div>
        </nav>
    </aside>

    <!-- Main Content -->
    <main class="dashboard-main">
        <div class="page-header">
            <h1 class="page-title">My Reports</h1>
            <p class="page-subtitle">Reports you have submitted about other users</p>
        </div>

        <div class="reports-container">
            <div th:if="${reports.isEmpty()}" class="empty-state">
                <i class="fas fa-flag"></i>
                <h3>No Reports Yet</h3>
                <p>You haven't reported any users. Reports help us maintain a safe community.</p>
            </div>

            <table th:if="${!reports.isEmpty()}" class="reports-table">
                <thead>
                    <tr>
                        <th>Reported User</th>
                        <th>Reason</th>
                        <th>Status</th>
                        <th>Date</th>
                    </tr>
                </thead>
                <tbody>
                    <tr th:each="report : ${reports}">
                        <td>
                            <strong th:text="${report.reportedUser.fullName ?: report.reportedUser.username}">User Name</strong>
                        </td>
                        <td>
                            <span th:text="${#strings.abbreviate(report.reason, 50)}">Reason</span>
                        </td>
                        <td>
                            <span th:class="'status-badge status-' + ${#strings.toLowerCase(report.status)}"
                                  th:text="${report.status}">OPEN</span>
                        </td>
                        <td th:text="${#temporals.format(report.createdAt, 'dd/MM/yyyy HH:mm')}">Date</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </main>
</div>
</body>
</html>
